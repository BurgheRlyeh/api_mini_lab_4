{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Image, Input } from \"react-native-elements\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LoginScreen = function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var toRegister = function toRegister() {\n    navigation.navigate(\"Register\");\n  };\n  var signIn = function signIn() {\n    signInWithEmailAndPassword(auth, email, password).catch(function (error) {\n      return alert(error.message);\n    });\n  };\n  useEffect(function () {\n    return auth.onAuthStateChanged(function (authUser) {\n      console.log(authUser);\n      if (authUser) {\n        auth.updateCurrentUser = authUser;\n        navigation.replace(\"Home\");\n      }\n    });\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"light\"\n    }), _jsx(Image, {\n      source: {\n        uri: \"https://play-lh.googleusercontent.com/yNLrKzTLtlw6mzEhNr0wxAHYMYtTu-K9PKXC_pvahCdv0Cl2WgLENPwgMWUyDeSYFow\"\n      },\n      style: {\n        width: 100,\n        height: 100\n      }\n    }), _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(Input, {\n        placeholder: \"Email\",\n        autoFocus: true,\n        type: \"email\",\n        value: email,\n        onChangeText: function onChangeText(text) {\n          return setEmail(text);\n        }\n      }), _jsx(Input, {\n        placeholder: \"Password\",\n        secureTextEntry: true,\n        type: \"password\",\n        value: password,\n        onChangeText: function onChangeText(text) {\n          return setPassword(text);\n        },\n        onSubmitEditing: signIn\n      })]\n    }), _jsx(Button, {\n      color: \"secondary\",\n      containerStyle: styles.button,\n      onPress: signIn,\n      title: \"Login\"\n    }), _jsx(Button, {\n      color: \"secondary\",\n      containerStyle: styles.button,\n      onPress: toRegister,\n      type: \"outline\",\n      title: \"Register\"\n    })]\n  });\n};\nexport default LoginScreen;\nvar styles = StyleSheet.create({\n  inputContainer: {\n    width: 300\n  },\n  button: {\n    width: 200,\n    marginTop: 10\n  },\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 10,\n    backgroundColor: 'white'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Button","Image","Input","StatusBar","signInWithEmailAndPassword","auth","LoginScreen","navigation","email","setEmail","password","setPassword","toRegister","navigate","signIn","catch","error","alert","message","onAuthStateChanged","authUser","console","log","updateCurrentUser","replace","styles","container","uri","width","height","inputContainer","text","button","StyleSheet","create","marginTop","flex","alignItems","justifyContent","padding","backgroundColor"],"sources":["C:/Users/egor6/WebstormProjects/api_mini_lab_4/screens/LoginScreen.js"],"sourcesContent":["import {StyleSheet, View} from \"react-native\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {Button, Image, Input} from \"react-native-elements\"\r\nimport {StatusBar} from \"expo-status-bar\";\r\nimport {signInWithEmailAndPassword} from \"firebase/auth\";\r\nimport {auth} from \"../firebase\"\r\n\r\nconst LoginScreen = ({ navigation }) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const toRegister = () => { navigation.navigate(\"Register\"); }\r\n    const signIn = () => {\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .catch(error => alert(error.message));\r\n    }\r\n\r\n    useEffect(() => {\r\n        return auth.onAuthStateChanged((authUser) => {\r\n            console.log(authUser);\r\n            if (authUser) {\r\n                auth.updateCurrentUser = authUser;\r\n                navigation.replace(\"Home\");\r\n            }\r\n        });\r\n        }, []);\r\n\r\n    return (\r\n        <View style={ styles.container }>\r\n            <StatusBar style=\"light\"/>\r\n            <Image source={{ uri: \"https://play-lh.googleusercontent.com/yNLrKzTLtlw6mzEhNr0wxAHYMYtTu-K9PKXC_pvahCdv0Cl2WgLENPwgMWUyDeSYFow\" }}\r\n                   style = {{width: 100, height: 100}}/>\r\n            <View style={styles.inputContainer}>\r\n                <Input placeholder=\"Email\" autoFocus type=\"email\" value={email}\r\n                       onChangeText={ (text) => setEmail(text)}/>\r\n                <Input placeholder=\"Password\" secureTextEntry type=\"password\" value={password}\r\n                       onChangeText={ (text) => (setPassword(text))} onSubmitEditing={signIn}/>\r\n            </View>\r\n            <Button\r\n                color=\"secondary\"\r\n                containerStyle={styles.button}\r\n                onPress={signIn}\r\n                title='Login'\r\n            />\r\n            <Button\r\n                color=\"secondary\"\r\n                containerStyle={styles.button}\r\n                onPress={toRegister}\r\n                type=\"outline\"\r\n                title='Register'\r\n            />\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default LoginScreen\r\n\r\nconst styles = StyleSheet.create({\r\n    inputContainer: {\r\n        width: 300,\r\n    },\r\n    button: {\r\n        width: 200,\r\n        marginTop: 10,\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: 10,\r\n        backgroundColor: 'white',\r\n    },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}